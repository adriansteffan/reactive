import { expect, test } from 'vitest'
import { convertData} from './convert.ts'

test('check out put', () => {

  const dummyJsonString = `[{"index":0,"type":"Text","name":"block_5_text","data":{},"start":298,"end":1510,"duration":1212},{"index":1,"type":"MasterMindleWrapper","name":"block_5_mastermindle","data":{"blockIndex":"0","feedbacktype":5,"timelimit_s":10,"data":[{"type":"game","index":0,"start":1512,"end":6618,"duration":5106,"data":{"solution":["red","green","blue","yellow"],"solved":false,"skipped":true,"timeLeft_s":10,"guesses":[{"index":0,"colors":["red","red","red","red"],"results":[{"color":"red","status":"correct"},{"color":"red","status":"incorrect"},{"color":"red","status":"incorrect"},{"color":"red","status":"incorrect"}],"isCorrect":false,"start":1514,"end":3982,"duration":2468},{"index":1,"colors":["blue","blue","blue","blue"],"results":[{"color":"blue","status":"incorrect"},{"color":"blue","status":"incorrect"},{"color":"blue","status":"correct"},{"color":"blue","status":"incorrect"}],"isCorrect":false,"start":3982,"end":6112,"duration":2130}]}},{"type":"survey","index":1,"start":6618,"end":12006,"duration":5388,"data":[{"name":"intensityofeffort","type":"rating","value":4},{"name":"whyskip","type":"voicerecorder","value":{"blob":{},"type":"audiorecording","url":"blob:http://localhost:3000/0c20a02a-096f-4e99-9e8d-799c7b6ead32","timestamp":"2024-11-17T12:15:06.537Z"}}]},{"type":"game","index":2,"start":12006,"end":19900,"duration":7894,"data":{"solution":["green","red","green","green"],"solved":false,"skipped":false,"timeLeft_s":5,"guesses":[{"index":0,"colors":["blue","blue","blue","blue"],"results":[{"color":"blue","status":"incorrect"},{"color":"blue","status":"incorrect"},{"color":"blue","status":"incorrect"},{"color":"blue","status":"incorrect"}],"isCorrect":false,"start":12007,"end":14743,"duration":2736},{"index":1,"colors":["green","green","green","green"],"results":[{"color":"green","status":"correct"},{"color":"green","status":"incorrect"},{"color":"green","status":"correct"},{"color":"green","status":"correct"}],"isCorrect":false,"start":14743,"end":18149,"duration":3406}]}},{"type":"survey","index":3,"start":19900,"end":22324,"duration":2424,"data":[{"name":"intensityofeffort","type":"rating","value":6}]}]},"start":1510,"end":22324,"duration":20814},{"index":2,"type":"Quest","name":"block_5_survey","data":[{"name":"enjoyment","type":"rating","value":3},{"name":"senseofeffort","type":"voicerecorder","value":{"blob":{},"type":"audiorecording","url":"blob:http://localhost:3000/47686865-13f7-48b4-9626-307ee3b134c5","timestamp":"2024-11-17T12:15:19.951Z"}}],"start":22324,"end":25568,"duration":3244},{"index":3,"type":"Quest","name":"exitsurvey","data":[{"name":"ncs_6_thinking_fun_r","type":"rating","value":1},{"name":"ncs_6_complex_problems","type":"rating","value":3},{"name":"ncs_6_little_thought_r","type":"rating","value":2},{"name":"ncs_6_intellectual_task","type":"rating","value":3},{"name":"ncs_6_thinking_responsibility","type":"rating","value":3},{"name":"ncs_6_new_solutions","type":"rating","value":2},{"name":"choosefeedback","type":"imagepicker","value":"3"},{"name":"whychoosefeedback","type":"voicerecorder","value":{"blob":{},"type":"audiorecording","url":"blob:http://localhost:3000/401dbb88-67dc-45be-acfa-2b0602138515","timestamp":"2024-11-17T12:15:26.962Z"}}],"start":25568,"end":32803,"duration":7235}]`  
  const data = JSON.parse(dummyJsonString)
  console.log(dummyJsonString)
  console.log(data)
  console.log(convertData(data))

  expect(true);
})